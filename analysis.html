<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Diagnostika biznesa - Gekto</title>
<link rel="stylesheet" href="assets/css/bootstrap.min.css">
<link rel="stylesheet" href="assets/css/ionicons.min.css">
<link rel="stylesheet" href="assets/css/flexslider.css">
<link rel="stylesheet" href="assets/css/animsition.min.css">
<link rel="stylesheet" href="assets/css/animate.css">
<link rel="stylesheet" href="assets/css/style.css">
<style>
.analysis-app{padding:50px 0 20px}.cardx{background:#fff;border:1px solid #e5e5e5;padding:22px;margin-bottom:22px}
.hidden{display:none}.prog{height:8px;background:#ececec;margin:10px 0 18px}.bar{height:8px;background:#003a2f;width:0}
.q{font-size:22px;line-height:1.45}.labels{display:flex;justify-content:space-between;font-size:12px;color:#666;gap:10px}
.kpi{border:1px solid #e4e4e4;padding:16px;margin-bottom:14px}.score{font-size:42px;font-weight:700;line-height:1;color:#003a2f}
.chart{border:1px solid #ececec;padding:12px;margin-bottom:16px}.qt{border-bottom:1px solid #efefef;padding:8px 0}
</style>
</head>
<body class="animsition">
<header class="main-header"><div class="container"><div class="logo"><a href="index.html"><img src="assets/img/logo.png" alt="logo"></a></div><div class="menu"><nav class="desktop-nav"><ul class="first-level"><li><a href="index.html" class="animsition-link">Asosiy</a></li><li><a href="about.html" class="animsition-link">Biz haqimizda</a></li><li><a href="services.html" class="animsition-link">Xizmatlarimiz</a></li><li><a href="">Portfolio</a><ul class="second-level"><li><a href="portfolio-1.html" class="animsition-link">Proyektlarimiz</a></li><li><a href="single-project.html" class="animsition-link">Moliya tizimi</a></li><li><a href="single-project-2.html" class="animsition-link">Moliya modeli</a></li></ul></li><li><a href="">Kurslarimiz</a><ul class="second-level"><li><a href="moliya.html" class="animsition-link">Oson Moliya</a></li><li><a href="financecourse.html" class="animsition-link">Maxsus Moliya</a></li></ul></li><li><a href="contact.html" class="animsition-link">Kontaktlarimiz</a></li></ul></nav><nav class="mobile-nav"></nav><div class="menu-icon"><div class="line"></div><div class="line"></div><div class="line"></div></div></div></div></header>
<div class="site-hero_2"><div class="page-title"><div class="big-title montserrat-text">Diagnostika biznesa</div><div class="small-title montserrat-text">Moliyaviy + Menejment self-assessment</div></div></div>
<section class="analysis-app"><div class="container">
<div id="s1" class="cardx"><div class="section-title" style="margin-bottom:15px"><span>1-qadam: Tahlil turini tanlang</span><p class="montserrat-text uppercase">Oddiy (40) yoki Chuqur (80)</p></div>
<label style="display:block;border:1px solid #ddd;padding:14px;margin-bottom:10px"><input type="radio" name="mode" value="normal" checked> <b>Oddiy</b> - 40 savol</label>
<label style="display:block;border:1px solid #ddd;padding:14px"><input type="radio" name="mode" value="deep"> <b>Chuqur</b> - 80 savol</label>
<div style="margin-top:16px"><button id="start" class="btn green"><span>Boshlash</span></button> <button id="restore" class="btn" style="display:none"><span>Saqlangan draftni davom ettirish</span></button></div></div>
<div id="s2" class="cardx hidden"><div class="montserrat-text uppercase" id="ptext">Savol 1 / 40</div><div class="prog"><div class="bar" id="pbar"></div></div><div class="q" id="qtext"></div>
<div style="padding:10px 0"><input id="slider" type="range" min="1" max="5" value="3" style="width:100%"><div class="labels"><span>1 - Umuman mos emas</span><span>2 - Kam mos</span><span>3 - Qisman mos</span><span>4 - Ko'p mos</span><span>5 - To'liq mos</span></div></div>
<div style="margin-top:18px"><button id="back" class="btn"><span>Orqaga</span></button> <button id="next" class="btn green"><span>Keyingi</span></button> <button id="save" class="btn"><span>Saqlash va chiqish</span></button></div></div>
<div id="s3" class="hidden">
<div class="cardx"><div class="section-title" style="margin-bottom:10px"><span>Natijalar</span><p class="montserrat-text uppercase">Sizning biznes diagnostika hisobotingiz</p></div><div class="score" id="ov">0%</div><div id="lvl"></div><p id="oline"></p></div>
<div class="row"><div class="col-md-6"><div class="kpi"><div class="montserrat-text uppercase">Moliyaviy natija</div><div class="score" id="fs">0%</div><div id="fl"></div><p id="ft"></p></div></div><div class="col-md-6"><div class="kpi"><div class="montserrat-text uppercase">Menejment natija</div><div class="score" id="ms">0%</div><div id="ml"></div><p id="mt"></p></div></div></div>
<div class="cardx"><div class="row"><div class="col-md-6"><div class="chart"><div class="montserrat-text uppercase" style="margin-bottom:8px">Finance Radar</div><svg id="rf" viewBox="0 0 360 300" style="width:100%"></svg></div></div><div class="col-md-6"><div class="chart"><div class="montserrat-text uppercase" style="margin-bottom:8px">Management Radar</div><svg id="rm" viewBox="0 0 360 300" style="width:100%"></svg></div></div></div><div class="row"><div class="col-md-6"><div class="chart"><div class="montserrat-text uppercase" style="margin-bottom:8px">Eng past kategoriyalar</div><svg id="wb" viewBox="0 0 420 260" style="width:100%"></svg></div></div><div class="col-md-6"><div class="chart"><div class="montserrat-text uppercase" style="margin-bottom:8px">Muammo turlari</div><svg id="dn" viewBox="0 0 360 260" style="width:100%"></svg></div></div></div></div>
<div class="cardx"><div class="montserrat-text uppercase" style="margin-bottom:10px">Bosh xulosa</div><p id="main"></p><div class="montserrat-text uppercase" style="margin:14px 0 10px">Tavsiyalar</div><ul id="ins"></ul></div>
<div class="row"><div class="col-md-6"><div class="cardx"><div class="montserrat-text uppercase">Top-5 zaif savollar</div><div id="wq"></div></div></div><div class="col-md-6"><div class="cardx"><div class="montserrat-text uppercase">Top-5 kuchli savollar</div><div id="sq"></div></div></div></div>
<div class="cardx"><div class="montserrat-text uppercase" style="margin-bottom:8px">7 kunlik tezkor reja</div><ul id="plan"></ul><div class="montserrat-text uppercase" style="margin:14px 0 8px">Kerak bo'ladigan hisobotlar</div><ul id="rep"></ul><div style="margin-top:14px"><button id="pdf" class="btn"><span>PDF yuklab olish</span></button> <a href="contact.html" class="btn green"><span>Konsultatsiya olish</span></a></div></div>
</div></div></section>
<footer class="main-footer wow fadeInUp"><div class="container"><div class="col-md-8 col-sm-12"><div class="row"><nav class="footer-nav"><p style="font-weight: bold;">"Murakkab moliyani sodda tilda tushuntiramiz"</p><p style="text-align:center;font-weight:bold;">Fazliddin Davronov</p><ul><li><a href="index.html" class="animsition-link link">Asosiy</a></li><li><a href="about.html" class="animsition-link link">Biz haqimizda</a></li><li><a href="services.html" class="animsition-link link">Xizmatlarimiz</a></li><li><a href="portfolio-1.html" class="animsition-link link">Proyektlarimiz</a></li><li><a href="moliya.html" class="animsition-link link">Oson Moliya</a></li><li><a href="contact.html" class="animsition-link link">Kontaktlarimiz</a></li></ul></nav></div></div><div class="col-md-4 col-sm-12" style="text-align:right"><div class="row"><div class="gray-text">Gekto &copy;2022. Huquqlar himoyalangan.</div></div></div></div></footer>
<script src="assets/js/jquery-2.1.4.min.js"></script><script src="assets/js/isotope.pkgd.min.js"></script><script src="assets/js/jquery.flexslider.js"></script><script src="assets/js/smoothScroll.js"></script><script src="assets/js/jquery.animsition.min.js"></script><script src="assets/js/wow.min.js"></script><script src="assets/js/main.js"></script>
<script>
const L={cashflow:'CashFlow',profitability:'Marja/Foyda',forecasting:'Prognoz',working_capital:'Qarz/Aylanma',inventory:'Ombor',pricing:'Narx',tax_legal:'Soliq/Hujjat',processes:'Jarayon/SOP',delegation:'Delegatsiya',team_kpi:'KPI/Nazorat',hr:'HR',motivation:'Motivatsiya',planning:'Rejalash',sales_ops:'Sales/CRM'};
const FIN_CATS=['cashflow','profitability','forecasting','working_capital','inventory','pricing','tax_legal'];
const MAN_CATS=['processes','delegation','team_kpi','hr','motivation','planning','sales_ops'];

const NORMAL_FINANCE=[
"Men biznesim oldida turgan barcha moliyaviy muammolarni muvaffaqiyatli hal qilaman.",
"Men keyingi oyda / 3 oy / 6 oy / 12 oyda qancha sof foyda olishimni bilaman",
"Men bu yil biznes foydasini kamida 50% ga qanday oshirishni aniq bilaman.",
"So'nggi 12 oy ichida men biznes daromadlarining barqaror o'sishini ko'rdim.",
"Mening biznesimdagi foyda menga zaxiralarni yaratishga imkon beradi",
"Ba'zida pulim yo'qligi sababli marketing xarajatlarini kamaytirganim ham bo'ladi.",
"Men doimiy ravishda o'z biznesimdagi xarajatlarni kamaytirish va optimallashtirish ustida ishlayapman.",
"Ba'zida mavsumdan tashqari mening biznesimdagi daromadim sezilarli darajada kamayishi ham bo'lib turadi",
"Barcha pulim oborotda va men uni qanday chiqarib olishni bilmayapman",
"Mening biznesim o'sib bormoqda, ammo pulda o'zgarish yo'q.",
"Men vaqti-vaqti bilan biznesdagi resurslarimning ABC tahlilini o'tkazaman.",
"Mening biznesimning kreditlari va qarzlari meni bezovta qilmoqda",
"Pul yetishmovchiligiga ko'p uchrayman, deyarli oddiy holday ko'rinadigan bo'lgan",
"Pullarimni ombordagi tovarlar va asosiy vositalarga ko'p tikaman. Ularda muzlatib yuraman",
"Men har doim ish haqini o'z vaqtida va kechiktirmasdan to'layman.",
"Men har doim soliqlarni o'z vaqtida va kechiktirmasdan to'layman.",
"Men pulni oqilona boshqaraman va barcha biznes xarajatlarini oldindan rejalashtiraman.",
"Men biznes xarajatlarim nima ekanligini va har bir mahsulot qancha foyda keltirishini aniq bilaman.",
"Biznesimda ishchilarga motivatsiya sistemasini shakllantirganman",
"Men savdo, marketing va moliyaviy model orqali biznesdagi foydaga qanday ta'sir qilishni aniq bilaman"
];

const NORMAL_MANAGEMENT=[
"Barcha biznes jarayonlari aniq tuzilgan va men deyarli operatsionkada emasman",
"Men 24/7 ishlayman va sog'ligimdan shubhalanaman.",
"Men ko'pincha oilam oldida o'zimni aybdor his qilaman, chunki ular bilan kam vaqt o'tkazaman.",
"Men vazifalarni xodimlarimdan ko'ra yaxshiroq bajaraman va ko'pincha o'zim qilaman",
"Ba'zida ishchilarim kun davomida to'liq ishlashiga shubha qilaman",
"Xodimlarimning ish samaradorligi pasayib borayotgani uchun dam ololmayapman.",
"Mening biznesim katta oilaga o'xshaydi. Biz bir-birimizga ishonamiz va hech qanday rasmiy kelishuvlar tuzmaymiz.",
"Mening xodimlarim ko'pincha ularning ishi kompaniyadagi boshqa xodimlarga qanday ta'sir qilishini tushunishmaydi.",
"Mening biznesim boshqaruvida hal qila olmaydigan muammolar bor.",
"Ish hajmidan ortiq ishlagan xodimlarni rag'batlantirish tizimini joriy qilganman.",
"Mening har bir xodimim hisobotlarni yuritadi, bu menga biznesning asosiy ko'rsatkichlari va jamoaning ish yukini har kuni kuzatib borish imkonini beradi.",
"Menda kompaniya uchun tashkiliy tuzilma bor va hamma kim nima uchun javobgar ekanligini tushunadi.",
"Men biznesdagi rolimni aniq tushunaman",
"Men biznesimdagi barcha biznes jarayonlarni bilaman va rivojlanish strategiyasi yozilgan",
"Menda har bir xodim uchun nomoddiy motivatsiya aniq yozilgan.",
"Men o'z biznesim uchun xodimlarni topishni oson deb bilaman, chunki ular qanday ko'nikma va malakalarga ega bo'lishi kerakligini va suhbat davomida ularni qanday sinab ko'rish kerakligini tushunaman.",
"Men barcha yangi xodimlarni yozma tartib-qoidalar bilan ta'minlayman. Ushbu protseduralar ularga tez o'rganishga va birinchi kundanoq natijalarga erishishga yordam beradi.",
"Men ishimdagi kundalik tartibdan stressdaman.",
"Biznesda qattiqqo'llik qilib turaman. Bo'lmasa ishchilar ishni tashlab qo'yishadi",
"Men ko'proq ishlay olaman, meni ko'p chalg'itishadi"
];

const DEEP_FINANCE_BASE=[
"Men har oy P&L (Daromad-Xarajat-Foyda) hisobotini tuzaman va qarorlarni shunga tayangan holda qilaman.",
"Men har oy Balansni ko'raman: aktivlar, majburiyatlar va kapital o'zgarishini tushunaman.",
"Men CashFlow rejani (kirim/chiqim prognoz) kamida 4 hafta oldinga tuzaman.",
"Men Plan-Fakt tahlilini muntazam qilaman va chetga chiqish sabablarini yozib boraman.",
"Men har bir mahsulot/xizmat bo'yicha sof marjani (to'liq xarajatlar bilan) aniq bilaman.",
"Men unit-economicsni bilaman: 1 ta sotuvdan tushadigan foyda, o'zini oqlash nuqtasi.",
"Men chegirmalar (skidka) foydaga qanday ta'sir qilishini hisoblayman va cheklov qo'yganman.",
"Men ko'p sotdik, lekin foyda yo'q holatining sababini tez topa olaman (narx, marja, xarajat, qaytarim).",
"Men debitor qarz bo'yicha limit, muddat, eslatma va undirish tartibini joriy qilganman.",
"Men kreditor qarz bo'yicha to'lov ustuvorligi (prioritet) va kalendarini yuritaman.",
"Men cash gap (naqdlik uzilishi) bo'lishidan oldin signal beradigan ko'rsatkichlarga egaman.",
"Men ombordagi tovarlar bo'yicha ABC/XYZni muntazam qilaman va muzlagan pulni kamaytiraman.",
"Men zaxiralar (stock) uchun min/max darajalarni belgilaganman.",
"Men xarajatlarni kategoriyalarga ajratganman va keraksiz xarajatlar uchun limitlar bor.",
"Men marketing bo'yicha ROIni kuzataman: qaysi kanal foyda beradi, qaysi biri yo'q.",
"Men soliq va hujjatlar bo'yicha risklarni bilaman va oldindan rejalashtiraman.",
"Men biznesdan pul yechish (dividend/egaga to'lov) bo'yicha aniq qoida ishlab chiqqanman.",
"Men asosiy vositalarga investitsiya qilganda qaytish muddatini (payback) hisoblayman.",
"Men narx siyosatini bozordagi o'zgarishlarga qarab yangilab turaman (kurs, xarid narxi, raqobat).",
"Men 3-6-12 oyga moliyaviy model qilib, foyda va naqdlik ssenariylarini ko'raman."
];

const DEEP_MANAGEMENT_BASE=[
"Menda kompaniya bo'yicha SOP/reglamentlar yozilgan va xodimlar shunga amal qiladi.",
"Har bir rol uchun aniq KPI bor va ular muntazam o'lchanadi.",
"Men haftalik jamoa yig'ilishi (reja, muammo, natija) formatini joriy qilganman.",
"Men xodimlar bilan 1:1 uchrashuvlar o'tkazaman (rivojlanish, muammo, feedback).",
"Men vazifalarni delegatsiya qilganimda natija, muddat, standart va nazorat nuqtasini aniq belgilayman.",
"Men kompaniyada kim nima uchun javobgar degan RACI/mas'uliyat matritsasini joriy qilganman.",
"Yangi xodimlar uchun onboarding (1-7-30 kun) rejasi bor.",
"Men xodimlarni o'qitish bo'yicha minimal standartni belgilaganman (skript, product knowledge, xizmat).",
"Men intizom va qoidabuzarlik bo'yicha adolatli tizimga egaman (ogohlantirish, jarima/bonus qoidasi).",
"Biznesda shoshilinch ishlar ko'payib ketmasligi uchun prioritet tizimi bor.",
"Men mijozlar bilan ishlashda sifatni o'lchayman (NPS/feedback/shikoyatlar statistikasi).",
"Men sotuv jarayonida CRM intizomini nazorat qilaman (lead → deal → yopilish).",
"Menda kutilmagan xatoliklarga tayyor risk-reja bor (xodim ketishi, yetkazib berish, kurs).",
"Men o'zimning ish kunimni tizimlashtirganman: fokus vaqti, uchrashuvlar, operatsionka balansi.",
"Men kompaniya madaniyatini yozma tarzda belgilaganman (qadriyatlar, standartlar, xizmat sifati).",
"Men xodimlar motivatsiyasini faqat pulga emas, o'sish va e'tirofga ham bog'laganman.",
"Men har oy jamoa bilan maqsadlarni (OKR/plan) ko'rib chiqaman va yangilayman.",
"Men rahbar sifatida hamma narsani o'zim qilaman odatini kamaytirish uchun reja qilganman.",
"Men har bir bo'limdan asosiy metrikalarni bir joyga yig'ib turaman (dashboard).",
"Men kompaniyada ma'lumot yo'qolishi bo'lmasligi uchun yagona ish kanallarini belgilaganman (chat/CRM/task)."
];

const DEEP_FINANCE=DEEP_FINANCE_BASE.concat(NORMAL_FINANCE);
const DEEP_MANAGEMENT=DEEP_MANAGEMENT_BASE.concat(NORMAL_MANAGEMENT);

function catAt(cats,index){return cats[index%cats.length]}
function joinBlock(items,block,prefix,cats){return items.map((text,i)=>({id:prefix+(i+1),text,block,category:catAt(cats,i),weight:1}))}
function interleave(fin,man){const out=[];const n=Math.max(fin.length,man.length);for(let i=0;i<n;i++){if(i<fin.length)out.push(fin[i]);if(i<man.length)out.push(man[i]);}return out}
function build(mode){
  if(mode==='normal'){
    const fin=joinBlock(NORMAL_FINANCE,'finance','fn',FIN_CATS);
    const man=joinBlock(NORMAL_MANAGEMENT,'management','mn',MAN_CATS);
    return interleave(fin,man);
  }
  const fin=joinBlock(DEEP_FINANCE,'finance','fd',FIN_CATS);
  const man=joinBlock(DEEP_MANAGEMENT,'management','md',MAN_CATS);
  return interleave(fin,man);
}
const K='analysis_draft_v1';const S={mode:'normal',q:[],i:0,a:{}};
const e=id=>document.getElementById(id),s1=e('s1'),s2=e('s2'),s3=e('s3');
function lvl(p){if(p<=24)return'Kritk (kritik holat)';if(p<=49)return'Past (zaif tizim)';if(p<=69)return"O'rtacha (barqaror emas)";if(p<=84)return"Yaxshi (o'sish bor)";return"Kuchli (tizim yo'lga qo'yilgan)"}
function show(x){s1.classList.add('hidden');s2.classList.add('hidden');s3.classList.add('hidden');if(x===1)s1.classList.remove('hidden');if(x===2)s2.classList.remove('hidden');if(x===3)s3.classList.remove('hidden')}
function rq(){const t=S.q.length,q=S.q[S.i],v=S.a[q.id]||3;e('ptext').textContent='Savol '+(S.i+1)+' / '+t;e('pbar').style.width=((S.i+1)/t*100)+'%';e('qtext').textContent=q.text;e('slider').value=v;e('back').disabled=S.i===0;e('next').innerHTML=S.i===t-1?'<span>Natijani ko\'rish</span>':'<span>Keyingi</span>'}
function save(){const q=S.q[S.i];S.a[q.id]=Number(e('slider').value)}
function block(b){const it=S.q.filter(x=>x.block===b);let raw=0,min=0,max=0;const c={};it.forEach(q=>{const v=S.a[q.id]||3;raw+=v*q.weight;min+=q.weight;max+=5*q.weight;if(!c[q.category])c[q.category]={raw:0,min:0,max:0};c[q.category].raw+=v*q.weight;c[q.category].min+=q.weight;c[q.category].max+=5*q.weight});const p=Math.round((raw-min)/(max-min)*100);const cp={};Object.keys(c).forEach(k=>cp[k]=Math.round((c[k].raw-c[k].min)/(c[k].max-c[k].min)*100));return{p,isNaN:isNaN(p),cp}}
function ex(desc){const a=S.q.map(q=>({text:q.text,score:S.a[q.id]||3,category:q.category}));a.sort((x,y)=>desc?y.score-x.score:x.score-y.score);return a.slice(0,5)}
function weakCats(f,m){const a=[];Object.keys(f.cp).forEach(k=>a.push({category:k,value:f.cp[k]}));Object.keys(m.cp).forEach(k=>a.push({category:k,value:m.cp[k]}));a.sort((x,y)=>x.value-y.value);return a.slice(0,5)}
function lis(id,arr){const n=e(id);n.innerHTML='';arr.forEach(x=>{const li=document.createElement('li');li.textContent=x;n.appendChild(li)})}
function qlis(id,arr,w){const n=e(id);n.innerHTML='';arr.forEach(x=>{const d=document.createElement('div');d.className='qt';d.innerHTML='<div>'+x.text+'</div><b>Baho: '+x.score+'/5</b><div style="font-size:12px;color:#666">'+(w?'Risk':'Kuchli tomon')+': '+(x.score<=2?'zaif':x.score===3?'ortacha':'yaxshi')+'</div>';n.appendChild(d)})}
function main(f,m,c){if(f<50&&m>=50)return"Tizim bor, lekin pul nazorati sust.";if(f>=50&&m<50)return"Pul ko'rinadi, lekin jarayonlar rahbarga bog'langan.";if(f<50&&m<50)return"Operatsionka + pul oqimi bir vaqtda bosim qiladi.";if(f>=70&&m>=70)return"Tizimlar yaxshi, endi masshtablash bosqichi.";return'Asosiy risk zonasi: '+(L[c]||c)}
function insBy(c){const m={cashflow:"CashFlow reja va tolov kalendari sust.",profitability:"Marja va unit-economics nazorati zaif.",working_capital:"Debitor/kreditor boshqaruvi sust.",inventory:"ABC/XYZ va muzlagan pul nazorati kerak.",pricing:"Narx-chegirma nazorati zaif.",tax_legal:"Soliq-hujjat risklari bor.",forecasting:"Plan-fakt va prognoz sust.",delegation:"Delegatsiya sust, operatsion yuk rahbarda.",processes:"Jarayonlar reglamentlashmagan.",team_kpi:"KPI nazorati yetarli emas.",hr:"HR/onboarding tizimi sust.",motivation:"Motivatsiya tizimi notekis.",planning:"Rejalash intizomi past.",sales_ops:"CRM/sales intizomi sust."};return m[c]||'Ushbu yonalishda tizimni kuchaytiring.'}
function plan(c){const s=[];c.forEach(x=>{if(x.category==='cashflow')s.push("To'lov kalendarini 4 haftaga tuzing.");if(x.category==='profitability')s.push('Har mahsulot uchun marja jadvali yarating.');if(x.category==='working_capital')s.push('Debitor limit va eslatma tizimini kiriting.');if(x.category==='inventory')s.push('ABC/XYZ qiling va muzlagan pulni kamaytiring.');if(x.category==='delegation')s.push('RACI rol-masuliyat jadvalini yozing.');if(x.category==='planning')s.push('Haftalik 30 min yigilish formatini joriy qiling.');if(x.category==='team_kpi')s.push('3-5 KPI ni dashboardga chiqaring.')});return [...new Set(s)].slice(0,6)}
function reps(c){const s=new Set();c.forEach(x=>{if(['cashflow','forecasting'].includes(x.category))s.add("CashFlow + To'lov kalendari");if(['profitability','pricing'].includes(x.category))s.add('P&L va marja hisoboti');if(x.category==='working_capital')s.add('Debitor/Kreditor jadvali');if(x.category==='inventory')s.add('ABC/XYZ (ombor)');if(['team_kpi','planning','delegation','processes','hr','motivation'].includes(x.category))s.add('KPI Dashboard');if(x.category==='sales_ops')s.add('CRM funnel hisoboti');if(x.category==='tax_legal')s.add('Soliq-hujjat checklist')});s.add('Balans (oylik)');s.add('Plan-Fakt (oylik)');return [...s].slice(0,7)}
function rp(cx,cy,r,val){const n=val.length;return val.map((v,i)=>{const a=-Math.PI/2+i*2*Math.PI/n,k=r*(v/100);return[cx+Math.cos(a)*k,cy+Math.sin(a)*k]})}
function radar(id,keys,vals){const s=e(id);s.innerHTML='';const cx=170,cy=140,r=92;for(let l=1;l<=5;l++){const p=rp(cx,cy,r*(l/5),new Array(keys.length).fill(100));const g=document.createElementNS('http://www.w3.org/2000/svg','polygon');g.setAttribute('points',p.map(x=>x.join(',')).join(' '));g.setAttribute('fill','none');g.setAttribute('stroke','#ddd');s.appendChild(g)}keys.forEach((k,i)=>{const a=-Math.PI/2+i*2*Math.PI/keys.length;const x=cx+Math.cos(a)*r,y=cy+Math.sin(a)*r;const ln=document.createElementNS('http://www.w3.org/2000/svg','line');ln.setAttribute('x1',cx);ln.setAttribute('y1',cy);ln.setAttribute('x2',x);ln.setAttribute('y2',y);ln.setAttribute('stroke','#e0e0e0');s.appendChild(ln);const t=document.createElementNS('http://www.w3.org/2000/svg','text');t.setAttribute('x',cx+Math.cos(a)*(r+20));t.setAttribute('y',cy+Math.sin(a)*(r+20));t.setAttribute('font-size','10');t.setAttribute('text-anchor','middle');t.textContent=L[k]||k;s.appendChild(t)});const d=document.createElementNS('http://www.w3.org/2000/svg','polygon');d.setAttribute('points',rp(cx,cy,r,vals).map(x=>x.join(',')).join(' '));d.setAttribute('fill','rgba(0,58,47,.25)');d.setAttribute('stroke','#003a2f');d.setAttribute('stroke-width','2');s.appendChild(d)}
function bars(arr){const s=e('wb');s.innerHTML='';arr.forEach((x,i)=>{const y=30+i*40,w=Math.max(8,x.value*2.2);const t=document.createElementNS('http://www.w3.org/2000/svg','text');t.setAttribute('x',6);t.setAttribute('y',y+16);t.setAttribute('font-size','11');t.textContent=L[x.category]||x.category;s.appendChild(t);const b0=document.createElementNS('http://www.w3.org/2000/svg','rect');b0.setAttribute('x',130);b0.setAttribute('y',y);b0.setAttribute('width',230);b0.setAttribute('height',16);b0.setAttribute('fill','#efefef');s.appendChild(b0);const b1=document.createElementNS('http://www.w3.org/2000/svg','rect');b1.setAttribute('x',130);b1.setAttribute('y',y);b1.setAttribute('width',w);b1.setAttribute('height',16);b1.setAttribute('fill','#003a2f');s.appendChild(b1);const v=document.createElementNS('http://www.w3.org/2000/svg','text');v.setAttribute('x',370);v.setAttribute('y',y+13);v.setAttribute('font-size','11');v.textContent=Math.round(x.value)+'%';s.appendChild(v)})}
function donut(arr){const map={naqdlik:['cashflow','forecasting'],marja:['profitability','pricing'],qarz:['working_capital'],ombor:['inventory'],jarayon:['processes','delegation','planning'],nazorat:['team_kpi','hr','motivation','sales_ops','tax_legal']};const val={naqdlik:0,marja:0,qarz:0,ombor:0,jarayon:0,nazorat:0};arr.forEach(x=>Object.keys(map).forEach(k=>{if(map[k].includes(x.category))val[k]+=100-x.value}));const sum=Object.values(val).reduce((a,b)=>a+b,0)||1,clr=['#003a2f','#0d6151','#2f8d78','#67b3a3','#9ccdc2','#d1e8e2'];const s=e('dn');s.innerHTML='';let st=-Math.PI/2,ci=0,li=0;const pol=(cx,cy,r,a)=>({x:cx+r*Math.cos(a),y:cy+r*Math.sin(a)});Object.keys(val).forEach(k=>{const vv=val[k];if(vv<=0)return;const en=st+(vv/sum)*Math.PI*2,p1=pol(120,120,80,st),p2=pol(120,120,80,en),p3=pol(120,120,42,en),p4=pol(120,120,42,st),lg=en-st>Math.PI?1:0;const path=document.createElementNS('http://www.w3.org/2000/svg','path');path.setAttribute('d',`M ${p1.x} ${p1.y} A 80 80 0 ${lg} 1 ${p2.x} ${p2.y} L ${p3.x} ${p3.y} A 42 42 0 ${lg} 0 ${p4.x} ${p4.y} Z`);path.setAttribute('fill',clr[ci%clr.length]);s.appendChild(path);const m=document.createElementNS('http://www.w3.org/2000/svg','rect');m.setAttribute('x',200);m.setAttribute('y',16+li*20);m.setAttribute('width',12);m.setAttribute('height',12);m.setAttribute('fill',clr[ci%clr.length]);s.appendChild(m);const t=document.createElementNS('http://www.w3.org/2000/svg','text');t.setAttribute('x',220);t.setAttribute('y',25+li*20);t.setAttribute('font-size','11');t.textContent=k+': '+Math.round(vv/sum*100)+'%';s.appendChild(t);st=en;ci++;li++})}
function result(){const F=block('finance'),M=block('management'),fp=F.isNaN?0:F.p,mp=M.isNaN?0:M.p,ov=Math.round((fp+mp)/2),wc=weakCats(F,M),w=ex(false),s=ex(true);e('ov').textContent=ov+'%';e('lvl').textContent=lvl(ov);e('fs').textContent=fp+'%';e('fl').textContent=lvl(fp);e('ms').textContent=mp+'%';e('ml').textContent=lvl(mp);e('ft').textContent=fp<50?"Pul oqimi va foyda nazorati zaif.":fp<70?"Asos bor, lekin intizomni kuchaytirish kerak.":"Moliyaviy boshqaruv barqaror.";e('mt').textContent=mp<50?"Jarayonlar va delegatsiya sust.":mp<70?"Boshqaruvni standartlash kerak.":"Menejment tizimi yaxshi.";const mc=main(fp,mp,wc[0]?wc[0].category:'cashflow');e('oline').textContent=mc;e('main').textContent=mc;const ins=[];if(fp<50)ins.push("Pul oqimi va foyda nazorati zaif. CashGap bosimi bor.");if(mp<50)ins.push("Jarayonlar va delegatsiya sust: egasi operatsionkada.");wc.slice(0,4).forEach(x=>ins.push(insBy(x.category)));const u=[...new Set(ins)];while(u.length<3)u.push("1-3 ustuvor yonalishni tanlab haftalik nazoratni ishga tushiring.");lis('ins',u.slice(0,7));qlis('wq',w,true);qlis('sq',s,false);lis('plan',plan(wc));lis('rep',reps(wc));const fo=['cashflow','profitability','forecasting','working_capital','inventory','pricing','tax_legal'],mo=['processes','delegation','team_kpi','hr','motivation','planning','sales_ops'];radar('rf',fo,fo.map(k=>F.cp[k]||0));radar('rm',mo,mo.map(k=>M.cp[k]||0));bars(wc);donut(wc)}
e('start').onclick=()=>{S.mode=document.querySelector('input[name="mode"]:checked').value;S.q=build(S.mode);S.i=0;S.a={};show(2);rq()};
e('slider').oninput=save;e('back').onclick=()=>{save();if(S.i>0)S.i--;rq()};
e('next').onclick=()=>{save();if(S.i<S.q.length-1){S.i++;rq();return;}localStorage.removeItem(K);result();show(3);window.scrollTo({top:0,behavior:'smooth'})};
e('save').onclick=()=>{save();localStorage.setItem(K,JSON.stringify({mode:S.mode,current:S.i,answers:S.a}));alert('Draft saqlandi.');show(1)};
e('restore').onclick=()=>{const d=JSON.parse(localStorage.getItem(K)||'null');if(!d)return;S.mode=d.mode||'normal';S.q=build(S.mode);S.i=d.current||0;S.a=d.answers||{};show(2);rq()};
if(localStorage.getItem(K))e('restore').style.display='inline-block';e('pdf').onclick=()=>window.print();
</script>
<script>$(window).load(function(){new WOW().init();});</script>
</body></html>

